<main class="scene" aria-label="Parallax scene" appParallax [parallaxRatios]="{ far: 0.8, med: 0.35, near: 0.15 }">
    <app-snow-effect />
    <div class="layer far_distance" aria-hidden="true"></div>
    <div class="layer med_distance" aria-hidden="true"></div>
    <div class="layer near_distance" aria-hidden="true"></div>

    @if (showResumeModal) {
        <app-resume-modal (choice)="onResumeChoice($event)"></app-resume-modal>
    }

    <div id="logo-title-container">
        <p class="main-title-font" id="logo-title">Nuke-Winter</p>
    </div>

    <div class="game-config-containers">
        <!-- Choix de l'avatar -->
        <section class="avatar-section">
            <div class="config-title" id="avatar-title">
                <a (click)="nextAvatar(-1)"><img src="/assets/images/previous.png" alt="fleche-avatar-precedent"></a>
                <p>{{currentAvatar?.name}}</p>
                <a (click)="nextAvatar(1)"><img src="/assets/images/next.png" alt="fleche-avatar-suivant"></a>
            </div>
            @if (currentAvatar != undefined) {
            <div id="avatar-image-container">
                <img src="{{currentAvatar.image}}" alt="image-avatar">
            </div>
            }

        </section>

        <!-- Choix du senario -->
        <section class="scenario-section">
            <div>
                <p class="config-title" id="scenario-title">SCENARIO</p>
            </div>
            <div id="scenario-selector-container">
                @for (scenario of scenarios; track scenario.name) {
                <div class="scenario-selector available" [class.selected]="selectedScenario === scenario"
                    (click)="scenarioSelect(scenario)">
                    <p>{{ scenario.name }}</p>
                </div>
                } @empty {
                <div class="scenario-selector available">
                    <p>ㅤ</p>
                </div>
                <div class="scenario-selector available">
                    <p>ㅤ</p>
                </div>
                <div class="scenario-selector available">
                    <p>ㅤ</p>
                </div>
                <div class="scenario-selector available">
                    <p>ㅤ</p>
                </div>
                <div class="scenario-selector available">
                    <p>ㅤ</p>
                </div>
                <div class="scenario-selector available">
                    <p>ㅤ</p>
                </div>
                }
            </div>
        </section>

        <!-- Description du senatio -->
        <section class="description-senario-section">
            <div id="scenario-image-container">
                <img [src]="selectedScenario?.background ? selectedScenario?.background : '/assets/images-scene/sur-sa-trace.jpeg'"
                    alt="image-scenario">
            </div>
            <div id="scenario-description-container">
                <p>{{ selectedScenario?.description ?? 'Sélectionnez un scénario' }}</p>
            </div>
        </section>
    </div>
    <div class="button-containers">
        <app-nuke-button label="CANCEL" route="/menu" width="10vw" [fontSize]="1.3"></app-nuke-button>
        <app-nuke-button label="START" (click)="startScenario()" width="10vw" [fontSize]="1.3"></app-nuke-button>
    </div>


</main>